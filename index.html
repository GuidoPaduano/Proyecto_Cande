<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#020617" />
  <title>Paisaje del Ánimo – p5.js</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="styles.css" />

  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/addons/p5.sound.min.js"></script>
</head>
<body>
  <div class="bg-gradient"></div>
  <div class="bg-blur bg-blur-1"></div>
  <div class="bg-blur bg-blur-2"></div>
  <div class="noise-overlay"></div>

  <div class="page-shell">
    <header class="landing">
      <div class="hero">
        <section class="hero-main">
          <div class="hero-badge-row">
            <span class="hero-badge">Obra interactiva</span>
            <span class="hero-badge hero-badge-outline">Hecha con p5.js</span>
          </div>

          <h1 class="hero-title">
            Paisaje del Ánimo
          </h1>
          <p class="hero-subtitle">
            Un paisaje collage generado por tu voz.
          </p>

          <p class="hero-text">
            <strong>Paisaje del Ánimo</strong> es un autorretrato interactivo donde
            <strong>voz</strong> y <strong>respiración</strong> construyen un mundo visual.
            El micrófono escucha tu energía sonora y la traduce en
            <span class="highlight">formas</span> que cambian de color según la paleta elegida.
          </p>

          <div class="hero-steps">
            <div class="step">
              <span class="step-number">1</span>
              <div class="step-body">
                <h3>Hablá o respira&aacute; cerca del microfono</h3>
                <p>El volumen y el ritmo del sonido crean nuevas piezas en el paisaje.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <div class="step-body">
                <h3>Mirá cómo cambia el entorno</h3>
                <p>El silencio reconfigura el mundo; la voz lo llena de color.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <div class="step-body">
                <h3>Guardá tu captura</h3>
                <p>Cada sesión puede terminar en una imagen PNG única.</p>
              </div>
            </div>
          </div>

          <div class="hero-actions">
            <button id="abrirObra" class="btn-primary">
              Empezar a crear paisaje
            </button>
            <p class="helper-text">
              Al entrar, el navegador puede pedir permiso para usar el micrófono.
            </p>
          </div>
        </section>

        <section class="hero-panel">
          <div class="bubble-header">
            <div class="bubble-icon">
              <span class="bubble-wave"></span>
            </div>
            <div class="bubble-text">
              <span class="bubble-title">Sobre la obra</span>
              <span class="bubble-subtitle">Identidad sonora hecha paisaje</span>
            </div>
          </div>

          <div class="panel-card">
            <h2>Concepto</h2>
            <p>
              Cada persona “suena” distinto. En esta obra, la amplitud del audio genera recortes
              de diferentes formas. Podés elegir entre una atmósfera de 
              <strong>Calma</strong> (tonos fríos) o <strong>Energía</strong> (tonos cálidos).
            </p>

            <h2>Dinámica</h2>
            <ul class="panel-list">
              <li>
                <span class="dot"></span>
                <strong>Voz:</strong> Agrega elementos al collage.
              </li>
              <li>
                <span class="dot"></span>
                <strong>Silencio:</strong> Cuando dejás de hablar, el paisaje se reconfigura
              </li>
              <li>
                <span class="dot"></span>
                <strong>Mouse:</strong> Podés agregar detalles manuales sobre el lienzo.
              </li>
            </ul>

            <h2>Controles rápidos</h2>
            <ul class="shortcut-list">
              <li><span class="key">P</span> Pausar / Reanudar</li>
              <li><span class="key">S</span> Guardar PNG</li>
              <li><span class="key">Q</span> Terminar obra</li>
              <li><span class="key">R</span> Borrar todo</li>
              <li><span class="key">C</span> Cambiar paleta</li>
              <li><span class="key">H</span> Mostrar / Ocultar info</li>
            </ul>

            <p class="credits">
              Diseño &amp; desarrollo — <strong>Candela Rivas</strong>. Biblioteca — <strong>p5.js</strong>.
            </p>
          </div>
        </section>
      </div>
    </header>

    <footer class="site-footer" aria-label="Créditos del sitio">
      <span>CREADO POR CANDELA RIVAS · PAISAJE DEL ÁNIMO · 2025</span>
    </footer>
  </div>

  <!-- MAIN APP FUERA DEL SHELL PARA QUE OCUPE EL 100% DE ANCHO -->
  <main id="app" class="app oculto">
  </main>

  <script src="sketch.js"></script>
  <script>
    const btn = document.getElementById('abrirObra');
    const shell = document.querySelector('.page-shell'); 
    const app = document.getElementById('app');
    
    // Entrar a la obra
    btn.addEventListener('click', () => {
      shell.classList.add('oculto');
      app.classList.remove('oculto');
      window.__arrancarSketch && window.__arrancarSketch();
    });

    // Función global para volver a la pantalla de bienvenida
    // (llamala desde el botón "Volver a inicio" que agregues en el sketch)
    window.__volverAlInicio = function () {
      // si tenés una función en sketch.js para frenar el loop,
      // la podés enganchar acá:
      if (window.__detenerSketch) {
        window.__detenerSketch();
      }

      app.classList.add('oculto');
      shell.classList.remove('oculto');
      // opcional: volver arriba de todo
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };
  </script>
</body>
</html>
